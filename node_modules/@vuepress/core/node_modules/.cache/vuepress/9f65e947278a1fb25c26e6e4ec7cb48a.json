{"remainingRequest":"/Users/mac/WebstormProjects/sddz/yangnuowei88.github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/WebstormProjects/sddz/yangnuowei88.github.io/node_modules/vuepress-theme-vivek/global-components/ImageWrapper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/WebstormProjects/sddz/yangnuowei88.github.io/node_modules/vuepress-theme-vivek/global-components/ImageWrapper.vue","mtime":1684719585858},{"path":"/Users/mac/WebstormProjects/sddz/yangnuowei88.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1663819326638},{"path":"/Users/mac/WebstormProjects/sddz/yangnuowei88.github.io/node_modules/babel-loader/lib/index.js","mtime":1667786151549},{"path":"/Users/mac/WebstormProjects/sddz/yangnuowei88.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1663819326638},{"path":"/Users/mac/WebstormProjects/sddz/yangnuowei88.github.io/node_modules/vue-loader/lib/index.js","mtime":1670320619439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBJc1BDIH0gZnJvbSAnLi4vdXRpbC91dGlscycNCg0KbGV0IGxhc3RYID0gMCwgbGFzdFkgPSAwDQpsZXQgbm93WCA9IDAsIG5vd1kgPSAwDQpsZXQgbWludXNYID0gMCwgbWludXNZID0gMA0KbGV0IGNvbnRhaW5lcg0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIkltYWdlV3JhcHBlciIsDQogICAgcHJvcHM6IHsNCiAgICAgICAgc3JjOiBTdHJpbmcsDQogICAgICAgIGFsdDogew0KICAgICAgICAgICAgZGVmYXVsdDogJ0xvYWRpbmcnLA0KICAgICAgICAgICAgdHlwZTogU3RyaW5nDQogICAgICAgIH0sDQogICAgICAgIG9wZW46IHsNCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgICAgICAgICAgdHlwZTogQm9vbGVhbg0KICAgICAgICB9DQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgem9vbTogMiwNCiAgICAgICAgICAgIHRpbWVzOiBbJ3Nocmluay0yJywgJ3Nocmluay0xJywgJycsICdlbmxhcmdlLTEnLCAnZW5sYXJnZS0yJ10NCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBoYW5kbGVDbG9zZSgpIHsNCiAgICAgICAgICAgIHRoaXMuem9vbSA9IDINCiAgICAgICAgICAgIHRoaXMuJHJlZnMuaW1hZ2Uuc3R5bGUgPSAnJw0KICAgICAgICAgICAgbWludXNYID0gMA0KICAgICAgICAgICAgbWludXNZID0gMA0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVEb3duKGUpIHsNCiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZSB8fCB3aW5kb3cuZXZlbnQNCiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkNCg0KICAgICAgICAgICAgbGFzdFggPSAoZXZlbnQuY2xpZW50WCA/IGV2ZW50LmNsaWVudFggOiBldmVudC50b3VjaGVzWzBdLmNsaWVudFgpIC0gbWludXNYDQogICAgICAgICAgICBsYXN0WSA9IChldmVudC5jbGllbnRZID8gZXZlbnQuY2xpZW50WSA6IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSkgLSBtaW51c1kNCiAgICAgICAgICAgIC8vIGxhc3RYID0gZXZlbnQuY2xpZW50WCAtIChtaW51c1ggPT0gMCA/IHRoaXMuJHJlZnMuaW1hZ2Uub2Zmc2V0TGVmdCA6IG1pbnVzWCkNCiAgICAgICAgICAgIC8vIGxhc3RZID0gZXZlbnQuY2xpZW50WSAtIChtaW51c1kgPT0gMCA/IHRoaXMuJHJlZnMuaW1hZ2Uub2Zmc2V0VG9wIDogbWludXNZKQ0KDQogICAgICAgICAgICBjb25zdCBoYW5kbGVNb3ZlID0gKGUpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vdmUoZSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYoSXNQQygpKSB7DQogICAgICAgICAgICAgICAgY29udGFpbmVyLm9ubW91c2Vtb3ZlID0gaGFuZGxlTW92ZQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb250YWluZXIub250b3VjaG1vdmUgPSBoYW5kbGVNb3ZlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZU1vdmUoZSkgew0KICAgICAgICAgICAgbGV0IGV2ZW50ID0gZSB8fCB3aW5kb3cuZXZlbnQNCiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkNCg0KICAgICAgICAgICAgY29uc3QgZWRnZVggPSB0aGlzLiRyZWZzLmltYWdlLmNsaWVudFdpZHRoDQogICAgICAgICAgICBjb25zdCBlZGdlWSA9IHRoaXMuJHJlZnMuaW1hZ2UuY2xpZW50SGVpZ2h0DQoNCiAgICAgICAgICAgIG5vd1ggPSBldmVudC5jbGllbnRYICE9PSB1bmRlZmluZWQgPyBldmVudC5jbGllbnRYIDogZXZlbnQudG91Y2hlc1swXS5jbGllbnRYDQogICAgICAgICAgICBub3dZID0gZXZlbnQuY2xpZW50WSAhPT0gdW5kZWZpbmVkID8gZXZlbnQuY2xpZW50WSA6IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WQ0KDQogICAgICAgICAgICBtaW51c1ggPSBub3dYIC0gbGFzdFgNCiAgICAgICAgICAgIG1pbnVzWSA9IG5vd1kgLSBsYXN0WQ0KDQogICAgICAgICAgICBpZihNYXRoLmFicyhtaW51c1gpID4gZWRnZVgpIHsNCiAgICAgICAgICAgICAgICBtaW51c1ggPSBtaW51c1ggPiAwID8gZWRnZVggOiAtZWRnZVgNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYoTWF0aC5hYnMobWludXNZKSA+IGVkZ2VZKSB7DQogICAgICAgICAgICAgICAgbWludXNZID0gbWludXNZID4gMCA/IGVkZ2VZIDogLWVkZ2VZDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuaW1hZ2Uuc3R5bGUgPSBgdG9wOiAke21pbnVzWX1weDsgbGVmdDogJHttaW51c1h9cHg7YA0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVVcCgpIHsNCiAgICAgICAgICAgIGlmKElzUEMoKSkgew0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5vbm1vdXNlbW92ZSA9IG51bGwNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY29udGFpbmVyLm9udG91Y2htb3ZlID0gbnVsbA0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBlbmxhcmdlSW1hZ2UoKSB7DQogICAgICAgICAgICBpZih0aGlzLnpvb20gPCB0aGlzLnRpbWVzLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnpvb20gPSB0aGlzLnpvb20gKyAxDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNocmlua0ltYWdlKCkgew0KICAgICAgICAgICAgaWYodGhpcy56b29tID4gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuem9vbSA9IHRoaXMuem9vbSAtIDENCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgaW1hZ2VIb21pbmcoKSB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLmltYWdlLnN0eWxlID0gJycNCiAgICAgICAgICAgIG1pbnVzWCA9IDANCiAgICAgICAgICAgIG1pbnVzWSA9IDANCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgY29udGFpbmVyID0gdGhpcy4kcmVmcy5jb250YWluZXINCg0KICAgICAgICBpZihJc1BDKCkpIHsNCiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZURvd24pDQogICAgICAgICAgICBjb250YWluZXIub25tb3VzZXVwID0gdGhpcy5oYW5kbGVVcA0KICAgICAgICAgICAgY29udGFpbmVyLm9ubW91c2VsZWF2ZSA9IHRoaXMuaGFuZGxlVXANCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVEb3duKQ0KICAgICAgICAgICAgY29udGFpbmVyLm9udG91Y2hlbmQgPSB0aGlzLmhhbmRsZVVwDQogICAgICAgICAgICBjb250YWluZXIub250b3VjaGNhbmNlbCA9IHRoaXMuaGFuZGxlVXANCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["ImageWrapper.vue"],"names":[],"mappings":";AA2BA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageWrapper.vue","sourceRoot":"node_modules/vuepress-theme-vivek/global-components","sourcesContent":["<template>\r\n    <div class=\"image-box\">\r\n        <div :class=\"['image-modal', open ? 'open' : 'close']\">\r\n            <div class=\"image-header\">\r\n                <button class=\"image-close\" @click=\"handleClose\">\r\n                    <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"image-container\" ref=\"container\">\r\n                <img :class=\"['image-zoom', times[zoom]]\" :src=\"src\" :alt=\"alt\" draggable=\"false\" ref=\"image\">\r\n            </div>\r\n            <div class=\"image-controller\">\r\n                <button class=\"image-enlarge\" @click=\"enlargeImage\">\r\n                    <i class=\"fa fa-search-plus\" aria-hidden=\"true\"></i>\r\n                </button>\r\n                <button class=\"image-shrink\" @click=\"shrinkImage\">\r\n                    <i class=\"fa fa-search-minus\" aria-hidden=\"true\"></i>\r\n                </button>\r\n                <button class=\"image-undo\" @click=\"imageHoming\">\r\n                    <i class=\"fa fa-undo\" aria-hidden=\"true\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { IsPC } from '../util/utils'\r\n\r\nlet lastX = 0, lastY = 0\r\nlet nowX = 0, nowY = 0\r\nlet minusX = 0, minusY = 0\r\nlet container\r\n\r\nexport default {\r\n    name: \"ImageWrapper\",\r\n    props: {\r\n        src: String,\r\n        alt: {\r\n            default: 'Loading',\r\n            type: String\r\n        },\r\n        open: {\r\n            default: false,\r\n            type: Boolean\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            zoom: 2,\r\n            times: ['shrink-2', 'shrink-1', '', 'enlarge-1', 'enlarge-2']\r\n        }\r\n    },\r\n    methods: {\r\n        handleClose() {\r\n            this.zoom = 2\r\n            this.$refs.image.style = ''\r\n            minusX = 0\r\n            minusY = 0\r\n            this.$emit('close')\r\n        },\r\n        handleDown(e) {\r\n            const event = e || window.event\r\n            event.preventDefault()\r\n\r\n            lastX = (event.clientX ? event.clientX : event.touches[0].clientX) - minusX\r\n            lastY = (event.clientY ? event.clientY : event.touches[0].clientY) - minusY\r\n            // lastX = event.clientX - (minusX == 0 ? this.$refs.image.offsetLeft : minusX)\r\n            // lastY = event.clientY - (minusY == 0 ? this.$refs.image.offsetTop : minusY)\r\n\r\n            const handleMove = (e) => {\r\n                this.handleMove(e)\r\n            }\r\n\r\n            if(IsPC()) {\r\n                container.onmousemove = handleMove\r\n            } else {\r\n                container.ontouchmove = handleMove\r\n            }\r\n        },\r\n        handleMove(e) {\r\n            let event = e || window.event\r\n            event.preventDefault()\r\n\r\n            const edgeX = this.$refs.image.clientWidth\r\n            const edgeY = this.$refs.image.clientHeight\r\n\r\n            nowX = event.clientX !== undefined ? event.clientX : event.touches[0].clientX\r\n            nowY = event.clientY !== undefined ? event.clientY : event.touches[0].clientY\r\n\r\n            minusX = nowX - lastX\r\n            minusY = nowY - lastY\r\n\r\n            if(Math.abs(minusX) > edgeX) {\r\n                minusX = minusX > 0 ? edgeX : -edgeX\r\n            }\r\n\r\n            if(Math.abs(minusY) > edgeY) {\r\n                minusY = minusY > 0 ? edgeY : -edgeY\r\n            }\r\n\r\n            this.$refs.image.style = `top: ${minusY}px; left: ${minusX}px;`\r\n        },\r\n        handleUp() {\r\n            if(IsPC()) {\r\n                container.onmousemove = null\r\n            } else {\r\n                container.ontouchmove = null\r\n            }\r\n        },\r\n        enlargeImage() {\r\n            if(this.zoom < this.times.length - 1) {\r\n                this.zoom = this.zoom + 1\r\n            }\r\n        },\r\n        shrinkImage() {\r\n            if(this.zoom > 0) {\r\n                this.zoom = this.zoom - 1\r\n            }\r\n        },\r\n        imageHoming() {\r\n            this.$refs.image.style = ''\r\n            minusX = 0\r\n            minusY = 0\r\n        }\r\n    },\r\n    mounted() {\r\n        container = this.$refs.container\r\n\r\n        if(IsPC()) {\r\n            container.addEventListener('mousedown', this.handleDown)\r\n            container.onmouseup = this.handleUp\r\n            container.onmouseleave = this.handleUp\r\n        } else {\r\n            container.addEventListener('touchstart', this.handleDown)\r\n            container.ontouchend = this.handleUp\r\n            container.ontouchcancel = this.handleUp\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @import '../styles/values.scss';\r\n\r\n    .image-modal {\r\n        z-index: 80;\r\n\r\n        &.open {\r\n            @extend .flex-column;\r\n            width: 100%;\r\n            height: 100vh;\r\n            background-color: rgba($color: #000000, $alpha: 0.5);\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n        }\r\n\r\n        &.close {\r\n            display: none;\r\n            position: relative;\r\n\r\n            .image-controller {\r\n                display: none;\r\n            }\r\n        }\r\n    }\r\n\r\n    .image-container {\r\n        width: 100%;\r\n        height: 90vh;\r\n        @extend .flex;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .image-zoom {\r\n        width: 100%;\r\n        height: auto;\r\n        transition: transform .2s ease-in-out;\r\n        position: relative;\r\n        top: 0;\r\n        left: 0;\r\n    }\r\n\r\n    .image-zoom.enlarge-1 {\r\n        transform: scale(1.5);\r\n    }\r\n\r\n    .image-zoom.enlarge-2 {\r\n        transform: scale(2);\r\n    }\r\n\r\n    .image-zoom.shrink-1 {\r\n        transform: scale(0.6);\r\n    }\r\n\r\n    .image-zoom.shrink-2 {\r\n        transform: scale(0.3);\r\n    }\r\n\r\n    .image-header {\r\n        width: 100%;\r\n        background-color: rgba($color: #000000, $alpha: 0.6);\r\n        box-sizing: border-box;\r\n        padding: .5rem 1.5rem;\r\n        position: relative;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n    }\r\n\r\n    .image-close {\r\n        color: white;\r\n        font-size: 28px;\r\n        border: none;\r\n        background-color: transparent;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .image-controller {\r\n        @extend .flex;\r\n        flex: 1;\r\n        width: 100%;\r\n        background-color: rgba($color: #000000, $alpha: 0.6);\r\n    }\r\n\r\n    .image-enlarge,\r\n    .image-shrink,\r\n    .image-undo {\r\n        width: 3rem;\r\n        height: 3rem;\r\n        color: white;\r\n        font-size: 30px;\r\n        border: none;\r\n        background-color: transparent;\r\n        cursor: pointer;\r\n    }\r\n</style>"]}]}