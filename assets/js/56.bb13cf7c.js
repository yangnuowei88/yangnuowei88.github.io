(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{363:function(s,n,a){"use strict";a.r(n);var e=a(0),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey},scopedSlots:s._u([{key:"abstract",fn:function(){return[n("p",[s._v("å‰æ®µæ—¶é—´ä¹°äº†ä¸ªåŸŸåï¼Œäºæ˜¯æ‰“ç®—å°†æˆ‘çš„åšå®¢ç½‘ç«™éƒ¨ç½²åˆ°ä¸ªäººæœåŠ¡å™¨ä¸Šã€‚ä½œä¸ºä¸€ä¸ªå‰ç«¯äººï¼Œå¦‚ä½•éƒ¨ç½²å‰ç«¯é¡¹ç›®ä¸€ç›´æ˜¯ä¸ªä¸å¤ªå¥½è§£å†³çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯ä¸å¤ªç†Ÿæ‚‰æœåŠ¡å™¨ç«¯çš„å„ç§æ“ä½œï¼ˆæˆ‘å¤ªèœäº†ğŸ˜­ï¼‰ã€‚åœ¨ç½‘ä¸Šçœ‹äº†å„ç§çš„è§£å†³æ–¹æ¡ˆåï¼Œæœ€åæŒ‘é€‰äº† "),n("a",{attrs:{href:"http://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker"),n("OutboundLink")],1),s._v(" + "),n("a",{attrs:{href:"http://nginx.org/en/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nginx"),n("OutboundLink")],1),s._v(" æ¥è¿›è¡Œéƒ¨ç½²ã€‚")]),s._v(" "),n("blockquote",[n("p",[s._v("åœ¨éƒ¨ç½²çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†äº¿ç‚¹ç‚¹å‘ï¼Œè¿™é‡Œä»å¤´æ¢³ç†ä¸€ééƒ¨ç½²è¿‡ç¨‹ï¼Œå¸Œæœ›çœ‹åˆ°çš„æœ‰ç¼˜äººèƒ½ç»•å¼€æˆ‘è¸©è¿‡çš„é‚£äº›å‘ã€‚")])])]},proxy:!0}])},[n("h2",{attrs:{id:"å‡†å¤‡å·¥ä½œ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‡†å¤‡å·¥ä½œ"}},[s._v("#")]),s._v(" å‡†å¤‡å·¥ä½œ")]),s._v(" "),n("p",[s._v("é¦–å…ˆè¦å‡†å¤‡ä¸€å°æœåŠ¡å™¨ï¼ˆ"),n("em",[s._v("è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯CentOS 7")]),s._v("ï¼‰ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹å®‰è£…Dockeräº†")]),s._v(" "),n("p",[s._v("å¦‚æœè£…è¿‡æ—§ç‰ˆçš„Dockerçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¸è½½æ—§ç‰ˆæœ¬ï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¦‚æœä½ æ˜¯rootç”¨æˆ·çš„è¯å¯ä»¥ä¸å¿…åŠ  sudo ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum remove "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                docker-client "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                docker-client-latest "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                docker-common "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                docker-latest "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                docker-latest-logrotate "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                docker-logrotate "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                docker-engine\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("æœªå®‰è£…è¿‡Dockeræˆ–å¸è½½å®Œæ—§ç‰ˆæœ¬åï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡ŒDockerçš„å®‰è£…ï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("å®‰è£…å®Œæ¯•åï¼Œå¯åŠ¨DockeræœåŠ¡ï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("æˆåŠŸå®‰è£…å¹¶å¯åŠ¨äº†Dockeråï¼Œå°±å¯ä»¥å¼€å§‹å®‰è£…Nginxé•œåƒäº†ï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull nginx\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("æŸ¥çœ‹å®‰è£…çš„é•œåƒï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:"http://upyun.cavalheiro.cn/images/image-20210526092636183.png",alt:"image-20210526092636183"}})]),s._v(" "),n("p",[s._v("åˆ°è¿™é‡Œå‡†å¤‡å·¥ä½œå°±å·²ç»åšå®Œäº†ï¼Œæ¥ä¸‹æ¥å¼€å§‹é¡¹ç›®çš„éƒ¨ç½²")]),s._v(" "),n("h2",{attrs:{id:"å¼€å§‹éƒ¨ç½²"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å§‹éƒ¨ç½²"}},[s._v("#")]),s._v(" å¼€å§‹éƒ¨ç½²")]),s._v(" "),n("p",[s._v("è¿™é‡Œè®°å½•ä¸¤ä¸ªéƒ¨ç½²çš„æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨-væŒ‚è½½ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨Dockerfile")]),s._v(" "),n("h3",{attrs:{id:"væŒ‚è½½"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#væŒ‚è½½"}},[s._v("#")]),s._v(" -væŒ‚è½½")]),s._v(" "),n("p",[s._v("å…ˆå¯åŠ¨ä¸€ä¸ªä¸´æ—¶çš„å®¹å™¨ï¼Œå¹¶å–å¾—ä»–çš„å®¹å™¨IDï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx nginx\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -d åå°è¿è¡Œï¼Œ--name ä¸ºå®¹å™¨å‘½å")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("å¯åŠ¨å®Œæˆååˆ›å»ºä¸€ä¸ª "),n("strong",[s._v("nginx")]),s._v(" æ–‡ä»¶å¤¹ï¼ˆç†è®ºä¸Šåœ¨å“ªéƒ½è¡Œï¼Œæˆ‘æ”¾åœ¨äº† "),n("code",[s._v("/usr/local/server/nginx")]),s._v(" ä¸‹ï¼‰å¹¶è¿›å…¥ï¼Œç„¶åå°†å®¹å™¨å†…çš„é»˜è®¤é…ç½®æ–‡ä»¶æ‹·è´åˆ°åˆšåˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™é‡Œä¼šåœ¨ nginx ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª conf æ–‡ä»¶å¤¹")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("å®¹å™¨id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":/etc/nginx ./conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("æ‹·è´å®Œé»˜è®¤é…ç½®æ–‡ä»¶åï¼Œå³å¯ä¿®æ”¹ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶çš„å†…å®¹æ¥å¯¹Nginxè¿›è¡Œé…ç½®")])]),s._v(" "),n("p",[s._v("å†åˆ›å»ºä¸€ä¸ª "),n("strong",[s._v("html")]),s._v(" æ–‡ä»¶å¤¹ï¼Œç”¨äºæ”¾ç½®èµ„æºæ–‡ä»¶")]),s._v(" "),n("p",[s._v("åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œåˆšåˆšåˆ›å»ºçš„å®¹å™¨å·²ç»æ²¡æœ‰ç”¨äº†ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç§»é™¤ï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœæ­¢nginx")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop nginx\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ é™¤nginx")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" nginx\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("æ¥ä¸‹æ¥çš„æ“ä½œæ‰æ˜¯å…³é”®ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºæ­£å¼çš„å®¹å™¨ï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx \n        "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 \n        "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v(":443 \n\t\t"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /usr/local/server/nginx/conf:/etc/nginx \n\t\t"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /usr/local/server/nginx/html:/usr/share/nginx/html \n\t\tnginx\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("è¿™é‡Œè§£é‡Šä¸€ä¸‹è¿™ä¸ªå‘½ä»¤çš„å„ä¸ªé…ç½®é¡¹ï¼š")]),s._v(" "),n("ul",[n("li",[n("p",[n("code",[s._v("-d")]),s._v(" åå°è¿è¡Œ")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("--name=nginx")]),s._v(" å°†å®¹å™¨å‘½åä¸ºnginx")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("-p 80:80 -p 443:443")]),s._v(" å°†å®¹å™¨çš„ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ç«¯å£")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("-v /usr/local/server/nginx/conf:/etc/nginx")])]),s._v(" "),n("ul",[n("li",[s._v("å°†ä¸»æœºä¸­çš„ "),n("strong",[s._v("/usr/local/server/nginx/conf")]),s._v(" ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ "),n("strong",[s._v("/etc/nginx")]),s._v(" ä¸‹")]),s._v(" "),n("li",[s._v("è¯¥ç›®å½•ä¸‹å­˜æ”¾çš„æ˜¯å„ä¸ªé…ç½®æ–‡ä»¶")]),s._v(" "),n("li",[s._v("åœ¨ä¸»æœºç›®å½•ä¸‹åšå‡ºçš„æ”¹å˜ä¼šåŒæ­¥åˆ°å®¹å™¨ä¸­")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("-v /usr/local/server/nginx/html:/usr/share/nginx/html")])]),s._v(" "),n("ul",[n("li",[s._v("å°†ä¸»æœºä¸­çš„ "),n("strong",[s._v("/usr/local/server/nginx/html")]),s._v(" ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ "),n("strong",[s._v("/usr/share/nginx/html")]),s._v(" ä¸‹")]),s._v(" "),n("li",[s._v("è¯¥ç›®å½•å­˜æ”¾èµ„æºæ–‡ä»¶ï¼Œå³HTMLï¼ŒCSSï¼ŒJSç­‰")]),s._v(" "),n("li",[s._v("åœ¨ä¸»æœºç›®å½•ä¸‹åšå‡ºçš„æ”¹å˜ä¼šåŒæ­¥åˆ°å®¹å™¨ä¸­")])])])]),s._v(" "),n("p",[s._v("åˆ°è¿™é‡Œ Docker + Nginx çš„éƒ¨ç½²å°±å·²ç»å®Œæˆäº†ï¼Œå¯ä»¥ç›´æ¥åœ¨é¡¹ç›®æºç çš„ç›®å½•ä¸‹è¿è¡Œ "),n("code",[s._v("npm run build")]),s._v(" å‘½ä»¤ï¼Œç„¶åå°† "),n("code",[s._v("dist")]),s._v(" æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹å¤åˆ¶åˆ°ä¸»æœºçš„ "),n("code",[s._v("/usr/local/server/nginx/html")]),s._v(" ç›®å½•ä¸‹å³å¯")]),s._v(" "),n("h3",{attrs:{id:"dockerfile"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[s._v("#")]),s._v(" Dockerfile")]),s._v(" "),n("p",[s._v("ä½¿ç”¨ "),n("code",[s._v("Dockerfile")]),s._v(" å³è‡ªå·±åˆ›å»ºä¸€ä¸ªé•œåƒï¼Œéœ€è¦ç”¨åˆ°Dockerçš„ "),n("code",[s._v("build")]),s._v(" å‘½ä»¤ã€‚åœ¨è¿è¡Œå‘½ä»¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ›å»ºDockerfileè¿™ä¹ˆä¸€ä¸ªå…³é”®æ–‡ä»¶")]),s._v(" "),n("p",[s._v("Dockerfile æ˜¯ä¸€ä¸ªç”¨æ¥æ„å»ºé•œåƒçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹åŒ…å«äº†ä¸€æ¡æ¡æ„å»ºé•œåƒæ‰€éœ€çš„æŒ‡ä»¤å’Œè¯´æ˜ã€‚è¿›å…¥é¡¹ç›®æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»º "),n("code",[s._v("Dockerfile")]),s._v(" æ–‡ä»¶ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-dockerfile line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[n("code",[n("span",{pre:!0,attrs:{class:"token instruction"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" nginx:latest")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token instruction"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COPY")]),s._v(" dist/ /usr/share/nginx/html/")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("blockquote",[n("p",[s._v("è¿™é‡Œçš„ "),n("code",[s._v("dist")]),s._v(" ç›®å½•æ˜¯ç”¨ "),n("code",[s._v("npm run build")]),s._v(" æˆ–å…¶ä»–å½¢å¼çš„æ‰“åŒ…å‘½ä»¤ç”Ÿæˆçš„ï¼Œéœ€è¦å®ç°æ‰“åŒ…å¥½å†å»æ‰§è¡Œä¸Šè¿°å‘½ä»¤")])]),s._v(" "),n("p",[s._v("å¦‚æœè¦å¯¹Nginxè¿›è¡Œé…ç½®çš„è¯ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª "),n("code",[s._v("default.conf.template")]),s._v(" æ–‡ä»¶ï¼Œå¹¶å°†å…¶COPYè¿›é•œåƒï¼ˆè¿™é‡Œæˆ‘å°†æ–‡ä»¶æ”¾åœ¨äº† "),n("strong",[s._v("/config/nginx/")]),s._v(" ç›®å½•ä¸‹ï¼‰")]),s._v(" "),n("p",[n("code",[s._v("default.conf.template")]),s._v(" å¯å‚è€ƒå¦‚ä¸‹é…ç½®ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("server {\n    listen       ${NGINX_PORT};\n    server_name  ${NGINX_DOMAIN};\n\n    location / {\n        root   /usr/share/nginx/html;\n        index  index.html index.htm;\n        try_files $uri /index.html;\n    }\n\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("ä¿®æ”¹ä¸€ä¸‹Dockerfileï¼Œæ·»åŠ è®¾ç½®ç¯å¢ƒå˜é‡å’ŒCOPYæ–‡ä»¶çš„æ“ä½œï¼š")]),s._v(" "),n("div",{staticClass:"language-dockerfile line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[n("code",[n("span",{pre:!0,attrs:{class:"token instruction"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" nginx:latest")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®ç«¯å£å’ŒåŸŸåçš„ç¯å¢ƒå˜é‡")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token instruction"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENV")]),s._v(" NGINX_PORT=80 NGINX_DOMAIN=localhost")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token instruction"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COPY")]),s._v(" /config/nginx/default.conf.template /etc/nginx/templates/default.conf.template")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token instruction"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COPY")]),s._v(" dist/ /usr/share/nginx/html/")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("ä¸¤ä¸ªæ–‡ä»¶éƒ½å‡†å¤‡å®Œæ¯•åï¼Œå³å¯å¼€å§‹é•œåƒçš„åˆ›å»ºã€‚è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿è¡Œbuildå‘½ä»¤å‰å…ˆè¿›å…¥")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" imageName:tagName "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# imageName é•œåƒå")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tagName   é•œåƒtagå")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# . \t\tä»£è¡¨å½“å‰ç›®å½•")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("å¾…å‘½ä»¤æ‰§è¡Œå®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ "),n("code",[s._v("docker images")]),s._v(" æŸ¥çœ‹è‡ªå·±åˆ›å»ºçš„é•œåƒ")]),s._v(" "),n("p",[s._v("åˆ›å»ºå®Œé•œåƒåï¼Œæ‰§è¡Œå‘½ä»¤åˆ›å»ºå®¹å™¨ï¼š")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Name "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 imageName\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®é¡¹çš„å«ä¹‰è§-væŒ‚è½½ç¯‡")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("ç„¶åä½¿ç”¨ "),n("code",[s._v("docker ps")]),s._v(" å°±å¯ä»¥æŸ¥çœ‹åˆ›å»ºçš„å®¹å™¨äº†")]),s._v(" "),n("p",[s._v("åˆ°è¿™ä¸€æ­¥å°±å®Œæˆäº†å‰ç«¯é¡¹ç›®çš„éƒ¨ç½²ï¼Œè¿›å…¥æµè§ˆå™¨è¾“å…¥åŸŸåæˆ–ipå³å¯è®¿é—®è‡ªå·±çš„ç½‘ç«™")]),s._v(" "),n("h2",{attrs:{id:"éƒ¨åˆ†nginxçš„é…ç½®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#éƒ¨åˆ†nginxçš„é…ç½®"}},[s._v("#")]),s._v(" éƒ¨åˆ†Nginxçš„é…ç½®")]),s._v(" "),n("p",[s._v("æˆ‘åœ¨è¿›è¡Œå‰ç«¯é¡¹ç›®çš„éƒ¨ç½²æ—¶ï¼Œç”¨åˆ°äº†äºŒçº§åŸŸåï¼Œè¿˜åˆ›å»ºäº†ä¸€ä¸ªç›‘å¬8888ç«¯å£çš„å®¹å™¨ç”¨äºè®¿é—®æˆ‘å†™çš„"),n("a",{attrs:{href:"http://resume.cavalheiro.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ç®€å†ç”Ÿæˆå™¨"),n("OutboundLink")],1),s._v("ï¼Œä½†ä¸æƒ³åœ¨è®¿é—®æ—¶åŸŸåååŠ  "),n("code",[s._v(":ç«¯å£å·")]),s._v(" ï¼ˆè¿™é‡Œéœ€è¦ç”¨åˆ°Nginxåå‘ä»£ç†ï¼‰")]),s._v(" "),n("p",[s._v("ä¸ºå®ç°åˆšæ‰æåˆ°çš„è¿™äº›éœ€æ±‚ï¼Œéœ€è¦åœ¨ "),n("code",[s._v("conf/conf.d/default.conf")]),s._v(" çš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("server {\n    listen       80;\n    listen  [::]:80;\n    # é…ç½®åŸŸå\n    server_name     cavalheiro.cn;\n\n    location / {\n    \t# é…ç½®è¯¥åŸŸåå¯¹åº”çš„æ ¹ç›®å½•\n        root    /usr/share/nginx/html/blog;\n        index   index.html index.htm;\n    }\n}\nserver {\n\tlisten       80;\n\tlisten  [::]:80;\n\t# é…ç½®äºŒçº§åŸŸå\n    server_name  ac.cavalheiro.cn;\n\n    location / {\n    \t# é…ç½®è¯¥åŸŸåå¯¹åº”çš„æ ¹ç›®å½•\n        root   /usr/share/nginx/html/ac;\n        index  index.html index.htm;\n    }\n}\nserver {\n\tlisten       80;\n\tlisten  [::]:80;\n\t# é…ç½®äºŒçº§åŸŸå\n    server_name  resume.cavalheiro.cn;\n\n    location / {\n    \t# é…ç½®åå‘ä»£ç†\n        proxy_pass   http://localhost:8888;\n        index  index.html index.htm;\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br")])]),n("blockquote",[n("p",[s._v("è‹¥ä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†Vue-routerçš„åŒæ—¶ï¼ŒVue-routerå¼€çš„æ˜¯historyæ¨¡å¼ï¼Œä¼šå‡ºç°è®¿é—®éƒ¨åˆ†è·¯ç”±å‡ºç°404çš„ç°è±¡ï¼Œéœ€è¦å†è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("server {\n    listen          80;\n    server_name     cavalheiro.cn;\n\n    location / {\n        root    /usr/share/nginx/html/blog;\n        index   index.html index.htm;\n        # å…³é”®ä»£ç ï¼Œæ·»åŠ åNginxæ”¯æŒhistoryæ¨¡å¼\n        try_files $uri $uri/ /index.html;\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);